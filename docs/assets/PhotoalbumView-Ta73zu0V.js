import{_ as u,c as d,e as p,a as e,t as c,f,o as i,g as b,b as v,F as P,h as k,w,r as h,d as C}from"./index-BDoxQefZ.js";const g={props:{initialPhoto:Number,photoCount:Number,isOpen:Boolean},data(){return{currentPhoto:this.initialPhoto}},computed:{fullsizeUrl(){return this.getFullsizeUrl(this.currentPhoto)}},watch:{initialPhoto(n){this.currentPhoto=n}},methods:{getFullsizeUrl(n){return`./images/photoalbum/photo${n}.jpg`},close(){this.$emit("close")},next(){this.currentPhoto<this.photoCount&&this.currentPhoto++},prev(){this.currentPhoto>1&&this.currentPhoto--},handleKeydown(n){switch(n.key){case"ArrowLeft":this.prev();break;case"ArrowRight":this.next();break;case"Escape":this.close();break}}},mounted(){window.addEventListener("keydown",this.handleKeydown),document.body.style.overflow="hidden"},beforeUnmount(){window.removeEventListener("keydown",this.handleKeydown),document.body.style.overflow=""}},y={class:"modal-content"},M={class:"main-photo"},x=["src","alt"],O={class:"photo-info"},U={class:"navigation"},N=["disabled"],V=["disabled"];function B(n,o,a,m,s,t){return a.isOpen?(i(),d("div",{key:0,class:"modal",onClick:o[3]||(o[3]=f((...l)=>t.close&&t.close(...l),["self"]))},[e("div",y,[e("span",{class:"close",onClick:o[0]||(o[0]=(...l)=>t.close&&t.close(...l))},"×"),e("div",M,[e("img",{src:t.fullsizeUrl,alt:`Фото ${s.currentPhoto}`},null,8,x)]),e("div",O,[e("p",null,"Фото "+c(s.currentPhoto)+" из "+c(a.photoCount),1)]),e("div",U,[e("button",{onClick:o[1]||(o[1]=(...l)=>t.prev&&t.prev(...l)),disabled:s.currentPhoto===1,class:"nav-btn"},"< Назад",8,N),e("button",{onClick:o[2]||(o[2]=(...l)=>t.next&&t.next(...l)),disabled:s.currentPhoto===a.photoCount,class:"nav-btn"}," Вперед > ",8,V)])])])):p("",!0)}const z=u(g,[["render",B],["__scopeId","data-v-baf80ced"]]),E={name:"PhotoalbumView",components:{PhotoModal:z},data(){return{photoCount:26,isModalOpen:!1,currentPhoto:1}},methods:{getThumbnailUrl(n){return`./images/photoalbum/photo${n}.jpg`},openModal(n){this.currentPhoto=n,this.isModalOpen=!0},closeModal(){this.isModalOpen=!1}}},F={class:"photo-grid"},L=["onClick"],K=["src","alt"];function T(n,o,a,m,s,t){const l=h("PhotoModal"),_=h("router-link");return i(),d("div",null,[o[1]||(o[1]=e("h1",null,"Фотоальбом",-1)),e("div",F,[(i(!0),d(P,null,k(s.photoCount,r=>(i(),d("div",{key:r,class:"photo-item",onClick:j=>t.openModal(r)},[e("img",{src:t.getThumbnailUrl(r),alt:`Фото ${r}`},null,8,K),e("p",null,"Фото "+c(r),1)],8,L))),128))]),s.isModalOpen?(i(),b(l,{key:0,initialPhoto:s.currentPhoto,photoCount:s.photoCount,isOpen:s.isModalOpen,onClose:t.closeModal},null,8,["initialPhoto","photoCount","isOpen","onClose"])):p("",!0),v(_,{to:{name:"home"}},{default:w(()=>o[0]||(o[0]=[C("На главную")])),_:1,__:[0]})])}const I=u(E,[["render",T],["__scopeId","data-v-95828fcd"]]);export{I as default};
