import{_ as u,c,e as p,a as o,t as d,f as b,o as i,g as v,b as f,F as k,h as P,w as g,r as h,d as w}from"./index-efMvv6JO.js";const C={props:{initialPhoto:Number,photoCount:Number,isOpen:Boolean},data(){return{currentPhoto:this.initialPhoto}},computed:{frontUrl(){return this.getFrontUrl(this.currentPhoto)},backUrl(){return this.getBackUrl(this.currentPhoto)}},watch:{initialPhoto(s){this.currentPhoto=s}},methods:{getFrontUrl(s){return`./images/photoalbum/photo${s}_front.jpg`},getBackUrl(s){return`./images/photoalbum/photo${s}_back.jpg`},close(){this.$emit("close")},next(){this.currentPhoto<this.photoCount&&this.currentPhoto++},prev(){this.currentPhoto>1&&this.currentPhoto--},handleKeydown(s){switch(s.key){case"ArrowLeft":this.prev();break;case"ArrowRight":this.next();break;case"Escape":this.close();break}}},mounted(){window.addEventListener("keydown",this.handleKeydown),document.body.style.overflow="hidden"},beforeUnmount(){window.removeEventListener("keydown",this.handleKeydown),document.body.style.overflow=""}},y={class:"modal-content"},M={class:"photo-pair"},U={class:"photo-side photo-front"},x=["src","alt"],O={class:"photo-side photo-back"},B=["src","alt"],N={class:"photo-info"},V={class:"navigation"},E=["disabled"],F=["disabled"];function L(s,t,a,m,n,e){return a.isOpen?(i(),c("div",{key:0,class:"modal",onClick:t[3]||(t[3]=b((...r)=>e.close&&e.close(...r),["self"]))},[o("div",y,[o("span",{class:"close",onClick:t[0]||(t[0]=(...r)=>e.close&&e.close(...r))},"×"),o("div",M,[o("div",U,[o("img",{src:e.frontUrl,alt:`Фото ${n.currentPhoto} (перед)`},null,8,x),t[4]||(t[4]=o("div",{class:"side-label"},"Лицевая сторона",-1))]),o("div",O,[o("img",{src:e.backUrl,alt:`Фото ${n.currentPhoto} (зад)`},null,8,B),t[5]||(t[5]=o("div",{class:"side-label"},"Оборотная сторона",-1))])]),o("div",N,[o("p",null,"Фото "+d(n.currentPhoto)+" из "+d(a.photoCount),1)]),o("div",V,[o("button",{onClick:t[1]||(t[1]=(...r)=>e.prev&&e.prev(...r)),disabled:n.currentPhoto===1,class:"nav-btn"},"< Назад",8,E),o("button",{onClick:t[2]||(t[2]=(...r)=>e.next&&e.next(...r)),disabled:n.currentPhoto===a.photoCount,class:"nav-btn"}," Вперед > ",8,F)])])])):p("",!0)}const j=u(C,[["render",L],["__scopeId","data-v-2d218906"]]),K={name:"PhotoalbumView",components:{PhotoModal:j},data(){return{photoCount:5,isModalOpen:!1,currentPhoto:1}},methods:{getThumbnailUrl(s){return`./images/photoalbum/photo${s}_mini.jpg`},openModal(s){this.currentPhoto=s,this.isModalOpen=!0},closeModal(){this.isModalOpen=!1}}},T={class:"photo-grid"},A=["onClick"],I=["src","alt"];function D(s,t,a,m,n,e){const r=h("PhotoModal"),_=h("router-link");return i(),c("div",null,[t[1]||(t[1]=o("h1",null,"Фотоальбом",-1)),o("div",T,[(i(!0),c(k,null,P(n.photoCount,l=>(i(),c("div",{key:l,class:"photo-item",onClick:R=>e.openModal(l)},[o("img",{src:e.getThumbnailUrl(l),alt:`Фото ${l}`},null,8,I),o("p",null,"Фото "+d(l),1)],8,A))),128))]),n.isModalOpen?(i(),v(r,{key:0,initialPhoto:n.currentPhoto,photoCount:n.photoCount,isOpen:n.isModalOpen,onClose:e.closeModal},null,8,["initialPhoto","photoCount","isOpen","onClose"])):p("",!0),f(_,{to:{name:"home"}},{default:g(()=>t[0]||(t[0]=[w("На главную")])),_:1,__:[0]})])}const q=u(K,[["render",D],["__scopeId","data-v-71cccac4"]]);export{q as default};
